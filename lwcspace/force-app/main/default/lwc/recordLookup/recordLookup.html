<template>
  <div class="slds-form-element">
    <label class="slds-form-element__label" for="combobox-id-3"
      >Relate To</label
    >
    <div class="slds-form-element__control">
      <div class="slds-combobox_container">
        <div
          class="
            slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click
            rootcombobox
          "
          aria-expanded={ariaexp}
          aria-haspopup="listbox"
          role="combobox"
        >
          <div
            class="
              slds-combobox__form-element
              slds-input-has-icon slds-input-has-icon_right
            "
            role="none"
          >
            <input
              type="text"
              class="slds-input slds-combobox__input slds-has-focus inputtype"
              id="combobox-id-3"
              aria-autocomplete="list"
              autocomplete="off"
              role="textbox"
              onkeyup={handlekeyup}
              placeholder="Search..."
              onclick={handleFocus}
              onfocus={handleFocus}
              onblur={handleCloseList}
            />
            <span
              class="
                slds-icon_container
                slds-icon-utility-search
                slds-input__icon slds-input__icon_right
              "
            >
              <svg
                class="
                  slds-icon slds-icon slds-icon_x-small
                  slds-icon-text-default
                "
                aria-hidden="true"
              >
                <use
                  xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#search"
                ></use>
              </svg>
            </span>
          </div>
          <div
            id="boxlist"
            class="
              slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid
              mylookup
            "
            role="listbox"
            onmouseup={handleListMouseUp}
            onmousedown={handleListMouseDown}
          >
            <ul class="slds-listbox slds-listbox_vertical" role="presentation">
              <template for:each={items} for:item="item" for:index="index">
                <li
                  key={item.name}
                  role="presentation"
                  class="slds-listbox__item"
                >
                  <div
                    id={item.name}
                    aria-selected="false"
                    class="
                      slds-media
                      slds-listbox__option
                      slds-listbox__option_entity
                      slds-listbox__option_has-meta
                    "
                    data-key={item.name}
                    data-index={index}
                    role="option"
                    tabindex="0"
                    onmouseover={handleMouseOver}
                    onmouseout={handleMouseOut}
                  >
                    <span class="slds-media__body">
                      <span
                        class="
                          slds-listbox__option-text
                          slds-listbox__option-text_entity
                        "
                        >{item.name}</span
                      >
                    </span>
                  </div>
                </li>
              </template>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
